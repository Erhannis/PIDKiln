<!DOCTYPE html>
<html>
<head>
 <title>PIDKiln Preferences</title>
 <link rel="stylesheet" href="css/main.css">
 <link rel="stylesheet" href="css/nav.css">
 <script type="text/javascript" src="js/nav.js"></script>
 <script type="text/javascript" src="js/programs.js"></script>
 <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

 <div class="topnav" id="myTopnav">
  <a href="/index.html">Main view</a>
  <a href="/programs/index.html">Manage programs</a>
  <a href="/logs/index.html">Logs</a>
  <a href="/preferences.html" class="active">Preferences</a>
  <a href="/about.html">About</a>
  <a href="/debug_board.html">Debug ESP</a>
  <a href="/flash_firmware.html">Flash firmware</a>
  <a href="javascript:void(0);" class="icon" onclick="switch_nav()">
    <i class="fa fa-bars"></i>
  </a>
 </div>

 <div class="container">
  ~ERRORS~
  <form method="post" action="preferences.html">
   <fieldset>
    <legend> WiFi configuration </legend>
     <div class="row">
      <div class="col-25">
	<label for="WiFi_SSID"> WiFi access point SSID </label>
      </div>
      <div class="col-75">
	<input type="text" name="WiFi_SSID" value="~WiFi_SSID~" width="20">
      </div>
     </div>
     <div class="row">
      <div class="col-25">
	<label for="WiFi_Password"> WiFi AP password </label>
      </div>
      <div class="col-75">
       <div style="display: inline-block;">
	<input type="password" id="WiFi_Password" name="WiFi_Password" value="~WiFi_Password~" width="20">
	<span id="WiFi_Password_toggler" class="fa fa-fw fa-eye-slash field-icon toggle-password" onclick="toggle_password(WiFi_Password)"></span>
       </div>
      </div>
     </div>
     <div class="row">
      <div class="col-25">
	<label for="WiFi_Mode"> WiFi Mode </label>
      </div>
      <div class="col-75">
	<input type="radio" name="WiFi_Mode" value="0" ~WiFi_Mode0~> 0 - no WiFi<br>
	<input type="radio" name="WiFi_Mode" value="1" ~WiFi_Mode1~> 1 - connect to AP - if failed, be AP (default)<br>
	<input type="radio" name="WiFi_Mode" value="2" ~WiFi_Mode2~> 2 - connect only to AP<br>
	<input type="radio" name="WiFi_Mode" value="3" ~WiFi_Mode3~> 3 - be only AP<br>
      </div>
     </div>
     <div class="row">
      <div class="col-25">
	<label for="WiFi_Retry_cnt"> WiFi connection timeout <br><sup>(0 - unlimited)</sup> </label>
      </div>
      <div class="col-75">
	<input type="number" name="WiFi_Retry_cnt" value="~WiFi_Retry_cnt~" min="0" max="254"> seconds
      </div>
     </div>
   </fieldset>

   <fieldset>
    <legend> Web authentication </legend>
     <div class="row">
      <div class="col-25">
	<label for="Auth_Username"> Auth Username </label>
      </div>
      <div class="col-75">
	<input type="text" name="Auth_Username" value="~Auth_Username~" width="20">
      </div>
     </div>
     <div class="row">
      <div class="col-25">
	<label for="Auth_Password"> Auth Password </label>
      </div>
      <div class="col-75">
       <div style="display: inline-block;">
	<input type="password" id="Auth_Password" name="Auth_Password" value="~Auth_Password~" width="20">
	<span id="Auth_Password_toggler" class="fa fa-fw fa-eye-slash field-icon toggle-password" onclick="toggle_password(Auth_Password)"></span>
       </div>
      </div>
     </div>
   </fieldset>

   <fieldset>
    <legend> Time configuration </legend>
     <div class="row">
      <div class="col-25">
	<label for="NTP_Server1"> NTP Server1 </label>
      </div>
      <div class="col-75">
	<input type="text" name="NTP_Server1" value="~NTP_Server1~">
      </div>
     </div>
     <div class="row">
      <div class="col-25">
	<label for="NTP_Server1"> NTP Server2 </label>
      </div>
      <div class="col-75">
	<input type="text" name="NTP_Server2" value="~NTP_Server2~">
      </div>
     </div>
     <div class="row">
      <div class="col-25">
	<label for="NTP_Server1"> NTP Server3 </label>
      </div>
      <div class="col-75">
	<input type="text" name="NTP_Server3" value="~NTP_Server3~">
      </div>
     </div>
     <div class="row">
      <div class="col-25">
	<label for="GMT_Offset_sec"> Difference (in seconds) from GMT time </label>
      </div>
      <div class="col-75">
	<input type="number" name="GMT_Offset_sec" min="-39600" max="50400" value="~GMT_Offset_sec~">
      </div>
     </div>
     <div class="row">
      <div class="col-25">
	<label for="Daylight_Offset_sec"> Daylight Saving Time difference (in seconds) </label>
      </div>
      <div class="col-75">
	<input type="number" name="Daylight_Offset_sec" min="-3600" max="3600" value="~Daylight_Offset_sec~">
      </div>
     </div>
     <div class="row">
      <div class="col-25">
	<label for="Initial_Date"> Initial date - if no NTP </label>
      </div>
      <div class="col-75">
	<input type="date" name="Initial_Date" value="~Initial_Date~">
      </div>
     </div>
     <div class="row">
      <div class="col-25">
	<label for="Initial_Time"> Initial time - if no NTP </label>
      </div>
      <div class="col-75">
	<input type="time" name="Initial_Time" value="~Initial_Time~" step="1">
      </div>
     </div>
   </fieldset>

   <fieldset>
    <legend> Program configuration </legend>
     <div class="row">
      <div class="col-25">
	<label for="PID_Window"> PID Window size (ms) </label>
      </div>
      <div class="col-75">
	<input type="number" name="PID_Window" min="1" max="9999" value="~PID_Window~" size="5">ms
      </div>
     </div>
     <div class="row">
      <div class="col-25">
	<label for="PID_Kp"> PID Kp (Proportional) </label>
      </div>
      <div class="col-75">
	<input type="number" name="PID_Kp" min="0" max="999" step="0.1" value="~PID_Kp~" size="4">
      </div>
     </div>
     <div class="row">
      <div class="col-25">
	<label for="PID_Ki"> PID Ki (Integral) </label>
      </div>
      <div class="col-75">
	<input type="number" name="PID_Ki" min="0" max="999" step="0.1" value="~PID_Ki~" size="4">
      </div>
     </div>
     <div class="row">
      <div class="col-25">
	<label for="PID_Kd"> PID Kd (Derivative) </label>
      </div>
      <div class="col-75">
	<input type="number" name="PID_Kd" min="0" max="999" step="0.1" value="~PID_Kd~" size="4">
      </div>
     </div>
     <div class="row">
      <div class="col-25">
	<label for="PID_POE">  Proportional on Measurement or Error </label>
      </div>
      <div class="col-75">
	<input type="radio" name="PID_POE" value="0" ~PID_POE0~> Proportional on Measurement <br>
	<input type="radio" name="PID_POE" value="1" ~PID_POE1~> Proportional on Error <br>
      </div>
     </div>
     <div class="row">
      <div class="col-25">
	<label for="PID_Temp_Threshold"> Temperature threshold </label>
      </div>
      <div class="col-75">
	<input type="number" name="PID_Temp_Threshold" min="-1" max="1350" step="1" value="~PID_Temp_Threshold~">
      </div>
     </div>
     <div class="row">
      <div class="col-25">
	<label for="LOG_Window"> Logging window </label>
      </div>
      <div class="col-75">
	<input type="number" name="LOG_Window" min="0" max="3600" step="1" value="~LOG_Window~">s
      </div>
     </div>
     <div class="row">
      <div class="col-25">
	<label for="LOG_Files_Limit"> Log files limit </label>
      </div>
      <div class="col-75">
	<input type="number" name="LOG_Files_Limit" min="0" max="3600" step="1" value="~LOG_Files_Limit~">
      </div>
     </div>
   </fieldset>

   <fieldset>
    <legend> Safety features </legend>
     <div class="row">
      <div class="col-25">
	<label for="MIN_Temperature"> Minimal temperature </label>
      </div>
      <div class="col-75">
	<input type="number" name="MIN_Temperature" min="0" max="50" value="~MIN_Temperature~" size="4">&#176;C
      </div>
     </div>
     <div class="row">
      <div class="col-25">
	<label for="MAX_Temperature"> Maximum temperature </label>
      </div>
      <div class="col-75">
	<input type="number" name="MAX_Temperature" min="51" max="1350" value="~MAX_Temperature~" size="4">&#176;C
      </div>
     </div>
     <div class="row">
      <div class="col-25">
	<label for="MAX_Housing_Temperature"> Maximum housing temperature </label>
      </div>
      <div class="col-75">
	<input type="number" name="MAX_Housing_Temperature" min="10" max="250" value="~MAX_Housing_Temperature~" size="4">&#176;C
      </div>
     </div>
     <div class="row">
      <div class="col-25">
	<label for="Alarm_Timeout"> Alarm timeout </label>
      </div>
      <div class="col-75">
	<input type="number" name="Alarm_Timeout" min="0" max="3600" value="~Alarm_Timeout~" size="4">s
      </div>
     </div>
   </fieldset>

    <div class="row">
      <div class="col-25">
	<input type="submit" name="update" value="Remember changes" title="For this session only"><br>
      </div>
      <div class="col-75">
	<input class="floatr" type="submit" name="save" value="Save preferences" title="Write it on disk">
      </div>
    </div>
  </form>
 </div>
 <div>You can also <a href="/etc/pidkiln.conf" target="_blank">download</a> current /etc/pidkiln.conf file.</div>
<br>

</body>
</html>
